[tool:pytest]
# Pytest configuration for cgen project
minversion = 7.0
python_files = test_*.py *_test.py
python_classes = Test*
python_functions = test_*
testpaths = tests
addopts =
    -ra
    --strict-markers
    --strict-config
    --tb=short


# Custom markers
markers =
    unit: Unit tests for individual components
    integration: Integration tests across multiple components
    py2c: Python-to-C conversion specific tests
    core: Core C generation functionality tests
    frontend: Frontend (Layer 1) static analysis tests
    intelligence: Intelligence (Layer 2) optimization tests
    slow: Tests that take more than a few seconds
    benchmark: Performance benchmark tests
    network: Tests requiring network access
    experimental: Experimental features under development

# No duplicate patterns needed - already defined above

# Filtering options
filterwarnings =
    ignore::DeprecationWarning
    ignore::PendingDeprecationWarning

# Coverage options (when pytest-cov is installed)
# addopts = --cov=src/cgen --cov-report=html --cov-report=term-missing

# Parallel execution (when pytest-xdist is installed)
# addopts = -n auto
